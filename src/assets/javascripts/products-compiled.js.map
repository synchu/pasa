{"version":3,"sources":["products.jsx"],"names":[],"mappings":"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","file":"products-compiled.js","sourcesContent":["var ProductDetails = React.createClass({\r\n    returnJasonCallback: function () {\r\n        return;\r\n    },\r\n    loadProductDetails: function () {\r\n        $.ajax({\r\n            crossDomain: true,\r\n            crossOrigin: true,\r\n            type: \"GET\",\r\n            url: this.props.url,\r\n            dataType: 'json',\r\n            cache: false,\r\n            success: function (data) {\r\n                this.setState({data: data, lastErr:''});\r\n            }.bind(this),\r\n            error: function (xhr, status, err) {\r\n                console.info(status.toString())\r\n                this.setState({lastErr: status.toString() + ' ' + err.toString()})\r\n                console.error(this.props.url, status, err.toString());\r\n\r\n            }.bind(this)\r\n        });\r\n\r\n    },\r\n    getInitialState: function () {\r\n        return {data: []};\r\n    },\r\n    componentDidMount: function () {\r\n        this.loadProductDetails();\r\n        setInterval(this.loadProductDetails, this.props.pollInterval);\r\n    },\r\n    render: function () {\r\n\r\n        var errShow = this.state.lastErr ? this.state.lastErr.length > 0 ? {display:'block'} : {display:'none'} : {display:'none'};\r\n        return (\r\n            <div className=\"container\">\r\n                <h1>Products Details</h1>\r\n\r\n                <div id=\"myAlert\" className=\"alert alert-warning\"\r\n                     style={errShow}>\r\n                    <span className=\"sr-only\">Error:</span>\r\n                    Seems we have an error, Jo. And the browser reports this -> {this.state.lastErr}\r\n                </div>\r\n\r\n                <ProductForm />\r\n                <ProductLines data={this.state.data}/>\r\n            </div>\r\n        );\r\n    }\r\n});\r\n\r\nvar ProductLines = React.createClass({\r\n    render: function () {\r\n        var ProductNodes = this.props.data.map(function (productline) {\r\n            return (\r\n                <ProductLine key={productline.productId} ProductName={productline.productName}/>\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div className=\"well\">\r\n                {ProductNodes}\r\n            </div>\r\n        );\r\n    }\r\n});\r\n\r\nvar ProductLine = React.createClass({\r\n    render: function () {\r\n        return (\r\n            <blockquote>\r\n                <p>{this.props.ProductName}</p>\r\n            </blockquote>\r\n        );\r\n    }\r\n});\r\n\r\n\r\nvar ProductForm = React.createClass({\r\n\r\n\r\n        handleSubmit: function (e) {\r\n            e.preventDefault();\r\n\r\n            var formData = $(\"#ProductForm\").serialize();\r\n            //debug\r\n            console.log(formData);\r\n            //debug\r\n\r\n\r\n            var saveUrl = 'http://localhost:9999/products/save';\r\n            $.ajax({\r\n                url: 'http://localhost:9999/products/save',\r\n                type: 'POST',\r\n                dataType: 'json',\r\n                data: formData,\r\n                cache: false,\r\n                crossDomain: true,\r\n                crossOrigin: true,\r\n                success: function (data) {\r\n                    console.log(\"Post succeeded\" + data)\r\n                }.bind(this),\r\n                error: function (xhr, status, err) {\r\n                    console.error(saveUrl, status, err.toString());\r\n                }.bind(this)\r\n            });\r\n\r\n            // clears the form fields\r\n\r\n\r\n            this.findDOMNode(this.refs.productName).value = '';\r\n            return;\r\n        }\r\n        ,\r\n        render: function () {\r\n            return (\r\n                <div className=\"row\">\r\n                    <form id=\"ProductForm\" onSubmit={this.handleSubmit}>\r\n                        <div className=\"col-xs-3\">\r\n                            <div className=\"form-group\">\r\n                                <input type=\"hidden\" name=\"productId\" value=\"0\"/>\r\n                                <input type=\"text\" name=\"productName\" ref=\"productName\"\r\n                                       required=\"required\" ref=\"type\"\r\n                                       placeholder=\"Add product name\"\r\n                                       className=\"form-control\"/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-xs-3\">\r\n                            <input type=\"submit\" className=\"btn btn-block btn-info\" value=\"Add\"/>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            );\r\n        }\r\n    })\r\n    ;\r\n\r\nReactDOM.render(<ProductDetails url=\"http://localhost:9999/products/callback\"\r\n                                pollInterval={2000}/>, document.getElementById('content'));\r\n"]}